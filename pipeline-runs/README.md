# Overview

A base for scripts and configuration files used to
run a given pipeline.

Workflow: gen_config.sh => gen_pcf.sh => build_pipeline.sh

## The Config files directory (cfgs)
Contains the following files:

* biocore.cfg                  
* cutadapt.tool_options.cfg  
* fastqc.tool_options.cfg  
* bowtie2.aligner_options.cfg  
* cwl.tool_options.cfg       
* jenkins.cfg              
* trimmomatic.tool_options.cfg

## Scripts Directory (src)

Contains the following scripts:

### Tested as standalone script

* Experiment Main Config File Genarator : [gen_config.sh](#gen_config.sh)
* Sample Config File Generator: [gen_pcf.sh](#gen_pcf.sh)
* Jenkins Job Submitter : [build_pipeline.sh](#build_pipeline.sh) 


### gen_config.sh

Generates the main config file the the experiment

### gen_pcf.sh

Generates a pcf config file for a given pipeline.

```
Usage: ./$script_name path2_pipeline.cfg [sampleID]
Where:
   path2_pipeline.cfg: is the full path to this pipeline config file.
          The pipeline config file is generated by running the program gen_config.sh
   sampleID:  is optional - is the sample Id as found in the experiment design file.
         Default, generates a pcf file for each sample listed in the design file.

   Assumptions: assumes the following structure under the script parent directory
      1) cfgs 
      2) src
   Assumptions: assumes the following config files in the cfgs directory
      1) cwl.tool_options.cfg

   What the program does: generates a pcf file for each sample listed in the design file or
     generates a pcf file for the specified sampleID

```
### build_pipeline.sh

Triggers  a pipeline build on Jenkins server.

```
 Usage: ./$script_name path2_pipeline.cfg [sampleID]
   Where:
   path2_pipeline.cfg: Required - is the full path to your pipeline project config file.
                       The pipeline config file is generated by running the program gen_config.sh
   sampleID:  Optional - is the sample Id as found in the experiment design file.
              Default, triggers a pipeline run for each sample listed in the design file.

   Example 1: ./$script_name /data/scratch/rna-seq/JarodRollins/JR18-08/results/cfgs/pipeline.cfg
   Example 2: ./$script_name /data/scratch/rna-seq/JarodRollins/JR18-08/results/cfgs/pipeline.cfg 22_TO_01_S9

   Assumptions: assumes the following structure under $script_name script parent directory
      1) cfgs 
      2) src
   Assumptions: assumes the following config files in the cfgs directory
      1) jenkins.cfg

   The program triggers a pipeline build on Jenkins for each sample listed in the design file(Example 1) or
   for the specified sampleID (Example 2)
``` 

### To Be Tested as standalone
* bowtie2.aligner.sh  
* cutadapt.sh  
* trimmomatic.sh
* fastqc.sh
* run-pipeline.sh
* run-cwl.sh   
